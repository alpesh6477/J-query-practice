<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Video Background Example</title>

    <meta name="description" content="Video background">
    <meta name="keywords" content="video background responsive jQuery plugin youtube">

    <style>
        @import url("https://fonts.googleapis.com/css?family=Roboto:400,600");
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Roboto', sans-serif;
            font-size: 18px;
        }

        .section-intro {
            position: relative;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
        }

        .section-intro .container {
            position: relative;
            z-index: 1;
        }

        .section-intro:before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.45);
            z-index: 1;
        }

        .section-intro .title {
            font-size: 50px;
            text-transform: uppercase;
            font-weight: 600;
        }

        .youtube-video-background {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            overflow: hidden;
        }

        .youtube-video-background iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        .section-features {
            padding: 100px 20px;
            background-color: #f5f5f5;
        }

        .features-list {
            list-style: none;
        }

        .feature-item {
            display: flex;
            flex-wrap: wrap;
            margin-bottom: 100px;
        }

        .feature-item .content-col {
            flex: 1;
            padding: 20px;
            background-color: #333;
            color: white;
        }

        .feature-item .img-col {
            flex: 1;
            position: relative;
            min-height: 300px;
        }

        .feature-item .img-wrap {
            position: absolute;
            top: -20px;
            right: 0;
            left: 0;
            bottom: 0;
            overflow: hidden;
        }

        .feature-item .img-wrap iframe,
        .feature-item .img-wrap video {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        @media (max-width: 800px) {
            .feature-item {
                flex-direction: column;
            }

            .feature-item .img-wrap {
                position: relative;
                top: 0;
            }
        }
    </style>
</head>

<body>

<section class="section-intro youtube-video-background">
    <div class="youtube-video" data-yt-id="yltlJEdSAHw"></div>
    <div class="container">
        <div class="content-wrap">
            <h3 class="title">Lorem ipsum dolor</h3>
        </div>
    </div>
</section>

<section class="section-features">
    <div class="container">
        <ul class="features-list">
            <li class="feature-item">
                <div class="content-col">
                    <div class="title">Lorem ipsum</div>
                    <div class="desc">
                        <p>Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque
                            laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi
                            architecto beatae vitae dicta sunt explicabo.</p>
                        <p>Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia
                            consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt.</p>
                    </div>
                </div>
                <div class="img-col">
                    <div class="img-wrap youtube-video-background">
                        <div class="youtube-video" data-yt-id="6NDYf3RZ1eY"></div>
                    </div>
                </div>
            </li>

            <li class="feature-item">
                <div class="content-col">
                    <div class="title">Lorem ipsum</div>
                    <div class="desc">
                        <p>Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque
                            laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi
                            architecto beatae vitae dicta sunt explicabo.</p>
                        <p>Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia
                            consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt.</p>
                    </div>
                </div>
                <div class="img-col">
                    <div class="img-wrap youtube-video-background">
                        <div class="youtube-video" data-yt-id="57jEMZ87ND8"></div>
                    </div>
                </div>
            </li>

            <li class="feature-item">
                <div class="content-col">
                    <div class="title">Lorem ipsum</div>
                    <div class="desc">
                        <p>Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque
                            laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi
                            architecto beatae vitae dicta sunt explicabo.</p>
                        <p>Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia
                            consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt.</p>
                    </div>
                </div>
                <div class="img-col">
                    <div class="img-wrap html-video-background">
                        <video src="js/videoBackground-master/demo/video/SampleVideo_color.mp4" autoplay muted loop>
                        </video>
                    </div>
                </div>
            </li>
        </ul>
    </div>
</section>

<script src="js/jquery-3.2.0.min.js"></script>
<script src="js/videoBackground.js"></script>
<script src="https://www.youtube.com/iframe_api"></script>

<script>
    var ytPlayers = [];

    function onYouTubePlayerAPIReady() {
        var players = document.querySelectorAll('.youtube-video');

        players.forEach(function (playerElem, index) {
            var player = new YT.Player(playerElem, {
                playerVars: {
                    'autoplay': 1,
                    'loop': 1,
                    'rel': 0,
                    'showinfo': 0,
                    'controls': 0,
                    'modestbranding': 1,
                    'playlist': playerElem.getAttribute("data-yt-id")
                },
                videoId: playerElem.getAttribute("data-yt-id"),
                events: {
                    'onReady': onPlayerReady
                }
            });
            ytPlayers.push(player);
        });
    }

    function onPlayerReady(event) {
        event.target.mute();
        $('.youtube-video-background').videoBackground();
    }

    // HTML Video loop fix
    document.querySelectorAll('video').forEach(function(video) {
        video.onended = function() {
            this.load();
            this.play();
        };
    });

    // Init videoBackground for HTML video
    $('.html-video-background').videoBackground();
</script>

</body>
</html>
